<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUSCAR MAQUINA</title>
    <link rel="stylesheet" href="../../../Maquinas/MaquinasMantenimiento/css/stylesBuscarMaquinaMantenimiento.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <div class="banner">
            <button class="back-button" onclick="goBack()">&#8592;</button>
            <button id="darkModeToggle" class="dark-mode-btn">üåë</button>
            <h1>MAQUINAS EN MANTENIMIENTO</h1>
        </div>
    </header>
    <section>
        <div class="container">
            <h2>BUSCAR MAQUINA</h2>
            <form id="formMaquinasMantenimiento" action="http://localhost:3000/api/maquinas-mantenimiento" method="POST">
                <div class="form-group">
                    <label for="tecnologia">Tecnolog√≠a</label>
                    <div class="dropdown">
                        <input type="text" id="tecnologia" name="tecnologia" autocomplete="off" maxlength="50" placeholder="Seleccionar Tecnolog√≠a" onkeyup="filterOptions(event, 'tecnologia')">
                        <div class="options" id="tecnologiaOptions">
                            <div class="option" onclick="selectOption(event, 'tecnologia')">PDA CS10</div>
                            <div class="option" onclick="selectOption(event, 'tecnologia')">T1 Smart Mobile POS</div>
                            <div class="option" onclick="selectOption(event, 'tecnologia')">BP80</div>
                        </div>
                        <div class="error-message"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="imeiacercademac">IMEI / ACERCA DE / MAC</label>
                    <input type="text" id="imeiacercademac" name="imeiacercademac" placeholder="123456" maxlength="50" autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="placa">PLACA</label>
                    <input type="text" id="placa" name="placa" placeholder="0000123" maxlength="50" autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="serial">SERIAL</label>
                    <input type="text" id="serial" name="serial" maxlength="50" placeholder="0000123" autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="lider">L√≠der Corresponsal</label>
                    <div class="dropdown">
                        <input type="text" id="lider" name="lider" maxlength="50" autocomplete="off" placeholder="Seleccionar L√≠der" onkeyup="filterOptions(event, 'lider')">
                        <div class="options" id="liderOptions">
                            <div class="option" onclick="selectOption(event, 'lider')">Andres Felipe Garcia</div>
                            <div class="option" onclick="selectOption(event, 'lider')">Fernando</div>
                            <div class="option" onclick="selectOption(event, 'lider')">Dayana</div>
                            <div class="option" onclick="selectOption(event, 'lider')">Judy</div>
                            <div class="option" onclick="selectOption(event, 'lider')">Daniel Nore√±a</div>
                            <div class="option" onclick="selectOption(event, 'lider')">Edilberto</div>
                            <div class="option" onclick="selectOption(event, 'lider')">Ruben Zambrano</div>
                            <div class="option" onclick="selectOption(event, 'lider')">NO TIENE</div>
                        </div>
                        <div class="error-message"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="siminternet">TIENE SIM?</label>
                    <div class="dropdown">
                        <input type="text" id="siminternet" name="siminternet" maxlength="50" autocomplete="off" placeholder="Seleccionar" onkeyup="filterOptions(event, 'siminternet')">
                        <div class="options" id="siminternetOptions">
                            <div class="option" onclick="selectOption(event, 'siminternet')">SI</div>
                            <div class="option" onclick="selectOption(event, 'siminternet')">NO</div>
                        </div>
                        <div class="error-message"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="cedula">C√©dula del corresponsal</label>
                    <input type="text" id="cedula"  maxlength="50" autocomplete="off" placeholder="C√©dula">
                </div>

                <div class="form-group">
                    <label for="nombrecorresponsal">Asignada a corresponsal:</label>
                    <input type="text" id="nombrecorresponsal" maxlength="100" autocomplete="off" placeholder="Nombre Corresponsal">
                </div>

                <div class="form-group">
                    <label for="fecha">Fecha De Creaci√≥n</label>
                    <input type="text" id="fecha" autocomplete="off" placeholder="aaaa - mm - dd">
                </div>     

                <div class="form-group">
                    <label for="codigoSeta">C√≥digo Seta</label>
                    <input type="text" id="codigoseta" name="codigoseta" maxlength="20" autocomplete="off" placeholder="C√≥digo Seta">
                </div>
                
                <div class="form-group">
                    <label for="ubicaci√≥n">UBICACI√ìN</label>
                    <div class="dropdown">
                        <input type="text" id="ubicacion" maxlength="50" autocomplete="off" placeholder="UBICACI√ìN" onkeyup="filterOptions(event, 'ubicacion')">
                        <div class="options" id="ubicacionOptions">
                            <div class="option" onclick="selectOption(event, 'ubicacion')">ENTREGADA</div>
                            <div class="option" onclick="selectOption(event, 'ubicacion')">EN LABORATORIO</div>
                            <div class="option" onclick="selectOption(event, 'ubicacion')">EN MANTENIMIENTO</div>
                        </div>
                        <div class="error-message"></div>
                    </div>
                </div>
            
                <div class="form-group">
                    <label for="estado">ESTADO</label>
                    <div class="dropdown">
                        <input type="text" id="estado" maxlength="50" autocomplete="off" placeholder="ESTADO" onkeyup="filterOptions(event, 'estado')">
                        <div class="options" id="estadoOptions">
                            <div class="option" onclick="selectOption(event, 'estado')">ACTIVA</div>
                            <div class="option" onclick="selectOption(event, 'estado')">DADA DE BAJA</div>
                        </div>
                        <div class="error-message"></div>
                    </div>
                </div>

            <div class="form-group">
                <label for="conteoenvio">Cu√°ntas veces se ha enviado a mantenimiento</label>
                <input type="number" id="conteoenvio" name="conteoenvio" min="0" max="10" step="1" placeholder="Seleccionar" autocomplete="off">
                <div class="error-message"></div>                

                <div class="tabla-container2">
                <table id="tablahistorialmantenimiento">
                    <thead>
                      <tr>
                        <th># Env√≠os</th>
                        <th>Motivo</th>
                        <th>Observaci√≥n / Falla</th>
                        <th>Persona que env√≠a</th>
                        <th>Fecha del env√≠o</th>
                        <th>Fecha de regreso</th>
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
            </div>
                <input type="hidden" id="maquinaId">
                <div class="button-container">
                    <button type="submit" id="btnBuscar" name="btnBuscar">Buscar</button>
                    <button type="button" id="btnEditar">Actualizar</button>
                    <button type="reset" id="btnLimpiar">Limpiar</button>
                    <button type="button" id="btnRegresar">Regresar</button>                    
                </div>
            </form>
    </section>

    <div class="tabla-container">
  <table id="tablamaquinas">
    <thead>
      <tr>
        <th>NOMBRE</th>
        <th>Imei/AcercaDe/Mac</th>
        <th>C√≥digo seta</th>
        <th>Tecnolog√≠a</th>
        <th>L√≠der Corresponsal</th>
        <th>Estado</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <!-- Aqu√≠ se llenar√°n las filas de las maquinas -->
    </tbody>
  </table>
  
  <!-- Controles de paginaci√≥n -->
  <div class="paginacion">
    <button id="prevPage" class="paginacion-btn">&laquo; Anterior</button>
    <span id="pageNumber">P√°gina 1 de 1</span>
    <button id="nextPage" class="paginacion-btn">Siguiente &raquo;</button>
    <button id="btnExportExcel" class="paginacion-btn">
        <i class="fas fa-file-excel"></i> Exportar Excel
    </button>
  </div>
  
  <!-- Contenedor para el total de las maquinas, ahora debajo -->
  <div id="totalmaquinas">
    Total De Maquinas: <span id="totalCount">0</span>
  </div>

    <script src="../../../Maquinas/MaquinasMantenimiento/js/jsBuscarMaquinaMantenimiento.js"></script>
    <script src="../../../Maquinas/MaquinasMantenimiento/js/jsTablaMaquinasMantenimiento.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>
</body>
</html>